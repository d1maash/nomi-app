# ‚ö° –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Clerk JWT Template (5 –º–∏–Ω—É—Ç)

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó JWT template
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –±—é–¥–∂–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Supabase
- ‚ö†Ô∏è RLS —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ

## üîí –î–ª—è –ø–æ–ª–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –Ω–∞—Å—Ç—Ä–æ–π JWT Template

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π Clerk Dashboard

https://dashboard.clerk.com

–í—ã–±–µ—Ä–∏ —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí **Configure** ‚Üí **JWT Templates**

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π template

1. –ù–∞–∂–º–∏ **"+ New Template"**
2. –í—ã–±–µ—Ä–∏ **"Supabase"** –∏–∑ —Å–ø–∏—Å–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
3. **–ò–º—è template:** `supabase` (–∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∏–º—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥!)

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏ JWT Secret –∏–∑ Supabase

1. –û—Ç–∫—Ä–æ–π https://supabase.com/dashboard
2. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
3. **Settings** ‚Üí **API**
4. –ù–∞–π–¥–∏ **"JWT Secret"** (–≤ —Ä–∞–∑–¥–µ–ª–µ "Project Configuration")
5. **–°–∫–æ–ø–∏—Ä—É–π** –≤–µ—Å—å –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –±—É–∫–≤)

### –®–∞–≥ 4: –î–æ–±–∞–≤—å JWT Secret –≤ Clerk

–í–µ—Ä–Ω–∏—Å—å –≤ Clerk Dashboard:

1. –í —Å–æ–∑–¥–∞–Ω–Ω–æ–º template –Ω–∞–π–¥–∏ –ø–æ–ª–µ **"Signing Key"** –∏–ª–∏ **"Secret Key"**
2. **–í—Å—Ç–∞–≤—å** JWT Secret –∏–∑ Supabase
3. –£–±–µ–¥–∏—Å—å —á—Ç–æ **Claims** –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

```json
{
  "sub": "{{user.id}}",
  "email": "{{user.primary_email_address}}",
  "role": "authenticated"
}
```

4. **Token Lifetime:** 3600 seconds (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –®–∞–≥ 5: –°–æ—Ö—Ä–∞–Ω–∏ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π

1. –ù–∞–∂–º–∏ **"Save"**
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ toggle **"Enabled"** –≤–∫–ª—é—á–µ–Ω (–∑–µ–ª–µ–Ω—ã–π)

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å
# Ctrl+C

# –ó–∞–ø—É—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ
npx expo start --clear
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
‚úÖ Clerk JWT token obtained
‚úÖ [sync] Data synced successfully
```

–í–º–µ—Å—Ç–æ:

```
‚ö†Ô∏è JWT template "supabase" not found in Clerk
```

## ‚ú® –ß—Ç–æ –¥–∞—Å—Ç JWT Template?

### –ë–µ–∑ JWT Template (—Å–µ–π—á–∞—Å):
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –ë—é–¥–∂–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚ö†Ô∏è RLS —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π (—Ä–∞–∑—Ä–µ—à–µ–Ω INSERT –¥–ª—è –≤—Å–µ—Ö)
- ‚ö†Ô∏è –ú–µ–Ω—å—à–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –° JWT Template:
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –ë—é–¥–∂–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ RLS —Å—Ç—Ä–æ–≥–∏–π (–∫–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ)
- ‚úÖ –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### "JWT Secret –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Supabase"

1. –ü–µ—Ä–µ–π–¥–∏ –≤ Supabase Dashboard
2. **Settings** ‚Üí **API**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏ –≤–Ω–∏–∑ –¥–æ **"JWT Secret"**
4. –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—à—å - –ø–æ–ø—Ä–æ–±—É–π –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

### "Template –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Clerk"

1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Clerk Dashboard
2. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–¥–µ–ª **Configure** ‚Üí **JWT Templates**
3. –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—à—å - –ø–æ–ø—Ä–æ–±—É–π –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

### "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏"

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª **–≤–µ—Å—å** JWT Secret
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ—Ç –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ
3. –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å template –∑–∞–Ω–æ–≤–æ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [CLERK_SUPABASE_INTEGRATION.md](./CLERK_SUPABASE_INTEGRATION.md)
- **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** [SUPABASE_FIXED.md](./SUPABASE_FIXED.md)

---

**üí° –°–æ–≤–µ—Ç:** –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ JWT template. –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –Ω–∞—Å—Ç—Ä–æ–π JWT template –¥–ª—è –ø–æ–ª–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

